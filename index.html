<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eco Protocolo 2050 - Engenharia de Materiais</title>
<style>
  :root {
    --bg-color: #0f172a;
    --text-color: #4ade80;
    --error-color: #f87171;
    --box-bg: #1e293b;
    --border-color: #14532d;
  }

  body {
    background-color: var(--bg-color);
    color: var(--text-color);
    font-family: 'Courier New', Courier, monospace;
    margin: 0;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    justify-content: center;
  }

  .container {
    max-width: 600px;
    width: 100%;
    background-color: rgba(30, 41, 59, 0.95);
    padding: 2rem;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    box-shadow: 0 0 20px rgba(0, 255, 0, 0.1);
  }

  header {
    width: 100%;
    max-width: 600px;
    display: flex;
    justify-content: space-between;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 10px;
    margin-bottom: 20px;
  }

  .status {
    animation: pulse 2s infinite;
    font-size: 0.8rem;
    color: #16a34a;
  }

  /* Progress Icons */
  .progress-bar {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
    padding: 10px;
    background: rgba(15, 23, 42, 0.5);
    border-radius: 4px;
  }

  .step-icon {
    opacity: 0.3;
    transition: opacity 0.5s, transform 0.5s;
  }

  .step-icon.active {
    opacity: 1;
    transform: scale(1.2);
    color: white;
  }

  .step-icon.done {
    opacity: 0.8;
    color: var(--text-color);
  }

  input[type="text"] {
    width: 100%;
    background-color: #020617;
    border: 1px solid var(--border-color);
    padding: 12px;
    color: white;
    margin-bottom: 10px;
    font-family: inherit;
    box-sizing: border-box;
    font-size: 1rem;
  }

  button {
    width: 100%;
    padding: 12px;
    background-color: #15803d;
    color: white;
    border: none;
    font-weight: bold;
    cursor: pointer;
    font-family: inherit;
    transition: background 0.3s;
    font-size: 1rem;
    text-transform: uppercase;
  }

  button:hover { background-color: #16a34a; }

  .error-msg {
    color: var(--error-color);
    font-weight: bold;
    margin-top: 10px;
    font-size: 0.9rem;
    display: none;
    padding: 10px;
    background-color: rgba(248, 113, 113, 0.1);
    border: 1px solid var(--error-color);
    border-radius: 4px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
    border: 1px solid #334155;
  }
  th, td { padding: 8px; border-bottom: 1px solid #334155; text-align: left; }
  th { background-color: #0f172a; color: #94a3b8; }
  td { color: #e2e8f0; }

  .hidden { display: none; }
  .box {
    background-color: #0f172a;
    padding: 15px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    margin: 15px 0;
    font-size: 0.9rem;
  }
  h1 { font-size: 1.5rem; color: white; margin-bottom: 0.5rem; }
  h2 { font-size: 1.2rem; color: white; display: flex; align-items: center; gap: 10px; margin-top: 0; }
  
  .data-text { color: #94a3b8; font-size: 0.9rem; margin-bottom: 10px; }
  .highlight { color: white; font-weight: bold; }

  @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
</style>
</head>
<body>

  <header>
    <div><span style="font-weight:bold;">SISTEMA_PET_v4.0</span></div>
    <div class="status" id="systemStatus">STATUS: BLOQUEADO</div>
  </header>

  <div class="container">
    
    <!-- Barra de √çcones (Legenda Visual) -->
    <div class="progress-bar" id="progressBar">
      <div class="step-icon active" id="icon0" title="Briefing Video">üì∫</div>
      <div class="step-icon" id="icon1" title="Protocolo Ciclo">‚ôªÔ∏è</div>
      <div class="step-icon" id="icon2" title="Protocolo Magnetismo">üß≤</div>
      <div class="step-icon" id="icon3" title="Protocolo Identidade">üÜî</div>
      <div class="step-icon" id="icon4" title="Protocolo Precis√£o">üìè</div>
      <div class="step-icon" id="icon5" title="Protocolo Estrat√©gia">üí°</div>
    </div>
    
    <!-- PROTOCOLO 0: VIDEO PADLET -->
    <div id="screen-start">
      <div style="text-align: center;">
        <h1>PROTOCOLO: BRIEFING</h1>
        <p>Acesso restrito a Engenheiros Autorizados.</p>
        <div class="box" style="text-align: left;">
          <p class="data-text">O sistema requer a valida√ß√£o do novo paradigma econ√≥mico.</p>
          <p class="data-text"><span class="highlight">TAREFA:</span> Assistam ao registo visual no <strong>Padlet</strong> da turma.</p>
          <p class="data-text"><strong>CHAVE:</strong> Qual √© o modelo econ√≥mico apresentado que imita os ciclos da natureza?</p>
        </div>
        <input type="text" id="inputStart" placeholder="Introduza a chave de acesso...">
        <button onclick="checkLevel0()">AUTENTICAR</button>
        <div id="error0" class="error-msg"></div>
      </div>
    </div>

    <!-- PROTOCOLO 1: CONCEITO -->
    <div id="screen-level1" class="hidden">
      <h2>PROTOCOLO: CICLO</h2>
      <p>A Economia Linear atingiu o fim da sua viabilidade. O sistema exige a transi√ß√£o.</p>
      
      <div class="box">
        <span style="color:var(--text-color)">AN√ÅLISE:</span><br>
        Na Economia Circular, o conceito de "lixo" √© substitu√≠do pela reintrodu√ß√£o de materiais no sistema produtivo.
        <br><br>
        <strong>PERGUNTA:</strong> Quando o material termina o seu uso e volta √† f√°brica, ele deixa de ser lixo e passa a ser um novo _________?
      </div>

      <input type="text" id="input1" placeholder="R...">
      <button onclick="checkLevel1()">CONFIRMAR CONCEITO</button>
      <div id="error1" class="error-msg"></div>
    </div>

    <!-- PROTOCOLO 2: TRIAGEM MAGNETICA -->
    <div id="screen-level2" class="hidden">
      <h2>PROTOCOLO: MAGNETISMO</h2>
      <p>Interfer√™ncias detetadas nos fluxos de mat√©ria-prima.</p>
      
      <div class="box">
        <span style="color:var(--text-color)">OPERACIONAL:</span><br>
        Utilizem o √≠man do vosso kit para rastrear as letras escondidas na caixa de res√≠duos.
        <br><br>
        <strong>CHAVE:</strong> Qual √© a palavra t√©cnica de 7 letras que define o processo de separa√ß√£o industrial de materiais?
      </div>

      <input type="text" id="input2" placeholder="Introduzam a palavra t√©cnica encontrada...">
      <button onclick="checkLevel2()">VALIDAR TRIAGEM</button>
      <div id="error2" class="error-msg"></div>
    </div>

    <!-- PROTOCOLO 3: IDENTIDADE -->
    <div id="screen-level3" class="hidden">
      <h2>PROTOCOLO: IDENTIDADE</h2>
      <p>Pureza do pol√≠mero requer verifica√ß√£o manual.</p>
      
      <div class="box">
        <span style="color:var(--text-color)">PESQUISA T√âCNICA:</span><br>
        Voltem ao <strong>Padlet</strong> e descubram mais sobre os pl√°sticos e as suas propriedades.
        <br><br>
        <strong>TAREFA DE CAMPO:</strong> Depois de identificarem o tipo de pl√°stico que pode ser usado nesta m√°quina, observem a <strong>esta√ß√£o de pl√°stico</strong> na sala e introduzam o c√≥digo num√©rico correspondente.
      </div>

      <input type="text" id="input3" placeholder="C√≥digo num√©rico do pol√≠mero...">
      <button onclick="checkLevel3()">REGISTAR POL√çMERO</button>
      <div id="error3" class="error-msg"></div>
    </div>

    <!-- PROTOCOLO 4: PRECIS√ÉO -->
    <div id="screen-level4" class="hidden">
      <h2>PROTOCOLO: PRECIS√ÉO</h2>
      <p>Configura√ß√£o das l√¢minas de corte para filamento 1.75mm.</p>
      
      <div class="box">
        <strong>TABELA DE CALIBRAGEM v4.0</strong>
        <table>
          <tr><th>Espessura Parede</th><th>Largura Corte</th></tr>
          <tr><td>0.35 mm</td><td>6 mm</td></tr>
          <tr><td>0.30 mm</td><td>7 mm</td></tr>
          <tr><td>0.25 mm</td><td>8 mm</td></tr>
          <tr><td>0.20 mm</td><td>9 mm</td></tr>
          <tr><td>0.15 mm</td><td>10 mm</td></tr>
        </table>
      </div>

      <div class="box">
        <span style="color:var(--text-color)">MEDI√á√ÉO:</span> Utilizem o paqu√≠metro. Me√ßam a espessura da parede da vossa amostra e consultem a tabela para determinar o ajuste.
      </div>

      <input type="text" id="input4" placeholder="Valor da largura em mm...">
      <button onclick="checkLevel4()">CALIBRAR L√ÇMINA</button>
      <div id="error4" class="error-msg"></div>
    </div>

    <!-- PROTOCOLO 5: ESTRAT√âGIA -->
    <div id="screen-level5" class="hidden">
      <h2>PROTOCOLO: ESTRAT√âGIA</h2>
      <p>A reciclagem √© o √∫ltimo recurso. O sistema exige efici√™ncia m√°xima.</p>
      
      <div class="box">
        <span style="color:var(--text-color)">HIERARQUIA:</span><br>
        A economia circular privilegia a conserva√ß√£o sobre a transforma√ß√£o. 
        <br><br>
        <strong>QUEST√ÉO:</strong> Qual √© o primeiro dos 3 R's, que visa evitar o consumo desnecess√°rio antes de qualquer reciclagem?
      </div>

      <input type="text" id="input5" placeholder="R...">
      <button onclick="checkLevel5()">ATIVAR MOTOR</button>
      <div id="error5" class="error-msg"></div>
    </div>

    <!-- SUCESSO -->
    <div id="screen-success" class="hidden" style="text-align: center;">
      <h1 style="color: #4ade80;">SISTEMA OPERACIONAL</h1>
      <div class="box" style="border: 1px solid #16a34a; background: rgba(22, 163, 74, 0.1);">
        <p style="font-size: 1.1rem; color: white;">Protocolos Conclu√≠dos.</p>
        <p>A PetMachine atingiu os 260¬∫C. A pultrus√£o de PET pode ser iniciada pelo supervisor da unidade.</p>
      </div>
      <p style="font-size:0.8rem; color:#64748b;">Relat√≥rio Final: Ciclo Fechado com Sucesso.</p>
    </div>

  </div>

<script>
  function updateProgress(step) {
    const icons = ['icon0', 'icon1', 'icon2', 'icon3', 'icon4', 'icon5'];
    icons.forEach((id, index) => {
      const el = document.getElementById(id);
      el.classList.remove('active', 'done');
      if (index < step) el.classList.add('done');
      if (index === step) el.classList.add('active');
    });
  }

  function goToScreen(screenId, step) {
    const screens = ['screen-start', 'screen-level1', 'screen-level2', 'screen-level3', 'screen-level4', 'screen-level5', 'screen-success'];
    screens.forEach(id => document.getElementById(id).classList.add('hidden'));
    document.getElementById(screenId).classList.remove('hidden');
    
    updateProgress(step);
    
    const statusEl = document.getElementById('systemStatus');
    if(screenId === 'screen-start') statusEl.innerText = "STATUS: BLOQUEADO";
    else if(screenId === 'screen-success') statusEl.innerText = "STATUS: OPERACIONAL";
    else statusEl.innerText = "STATUS: EM PROGRESSO...";
  }

  function showError(elementId, msg) {
    const el = document.getElementById(elementId);
    el.innerText = msg;
    el.style.display = 'block';
  }

  function checkLevel0() {
    const val = document.getElementById('inputStart').value.toLowerCase().trim();
    if (val.includes('circular')) goToScreen('screen-level1', 1);
    else showError('error0', 'ACESSO NEGADO: Chave de briefing incorreta.');
  }

  function checkLevel1() {
    const val = document.getElementById('input1').value.toLowerCase().trim();
    if (val.includes('recurso')) goToScreen('screen-level2', 2);
    else showError('error1', 'ERRO: Conceito inv√°lido. O lixo passa a ser um R_______?');
  }

  function checkLevel2() {
    const val = document.getElementById('input2').value.toLowerCase().trim();
    if (val === 'triagem') goToScreen('screen-level3', 3);
    else showError('error2', 'ERRO: Opera√ß√£o falhou. Usem o √≠man para encontrar as 7 letras.');
  }

  function checkLevel3() {
    const val = document.getElementById('input3').value.toLowerCase().trim();
    if (val === '1' || val === 'pet') goToScreen('screen-level4', 4);
    else showError('error3', 'ERRO: Pol√≠mero n√£o identificado no banco de dados.');
  }

  function checkLevel4() {
    const val = document.getElementById('input4').value.toLowerCase().replace('mm', '').trim();
    // Lista de valores v√°lidos da coluna "Largura Corte" da tabela
    const validValues = ['6', '7', '8', '9', '10'];
    
    if (validValues.includes(val)) {
      goToScreen('screen-level5', 5);
    } else {
      showError('error4', 'ERRO: Calibragem incorreta. O valor deve corresponder √† tabela t√©cnica para a espessura medida.');
    }
  }

  function checkLevel5() {
    const val = document.getElementById('input5').value.toLowerCase().trim();
    if (val.includes('reduzir')) goToScreen('screen-success', 6);
    else showError('error5', 'ERRO: Estrat√©gia ineficiente. Qual √© o primeiro R?');
  }
</script>
</body>
</html>